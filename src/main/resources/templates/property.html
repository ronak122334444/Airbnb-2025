<!DOCTYPE html>
<html lang="en">


    <!-- Mirrored from www.ansonika.com/panagea/restaurants-grid-isotope.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 10 Mar 2023 10:17:36 GMT -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Panagea - Premium site template for travel agencies, hotels and restaurant listing.">
        <meta name="author" content="Ansonika">
        <title>Panagea | Premium site template for travel agencies, hotels and restaurant listing.</title>

        <!-- Favicons-->
        <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon" type="image/x-icon" href="img/apple-touch-icon-57x57-precomposed.png">
        <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="img/apple-touch-icon-72x72-precomposed.png">
        <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="img/apple-touch-icon-114x114-precomposed.png">
        <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="img/apple-touch-icon-144x144-precomposed.png">

        <!-- GOOGLE WEB FONT -->
        <link rel="preconnect" href="https://fonts.gstatic.com/">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">

        <!-- BASE CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <link href="css/vendors.css" rel="stylesheet">

        <!-- ALTERNATIVE COLORS CSS -->
        <link href="#" id="colors" rel="stylesheet">
        

        <script>
let properties = []; 

function property() {
    const urlParams = new URLSearchParams(window.location.search);
    const city = urlParams.get("city");
    const url = "/properties";
    const formdata = new FormData();
    formdata.append("city", city);

    fetch(url, { method: "POST", body: formdata })
        .then(response => response.json())
        .then(data => {
            properties = data.ans; // Save the data globally
            render(properties); // Render the properties
        })
        .catch(error => console.error("Error fetching properties:", error));
}

function render(data) {
    console.log(data);

    // String to hold the generated HTML
    let s = '<div class="row">';
    for (let i = 0; i < data.length; i++) {
        const property = data[i];

        // Check if the property's status is "approve"
        if (property.status === "approve") {
            s += `
                <div class="col-xl-4 col-lg-6 col-md-6 isotope-item popular">
                    <div class="box_grid">
                        <figure>
                            <a href="#0" class="wish_bt"></a>
                            <a href="/propertydetail?id=${property.id}" >
                                <img src="${property.photo}" class="img-fluid" alt="${property.property_name}" width="800" height="533">
                                <div class="read_more"><span>Read more</span></div>
                            </a>
                        </figure>
                        <div class="wrapper">
                            <h3><a href="/propertydetail?id=${property.id}">${property.property_name}</a></h3>
                            <p>${property.property_type}</p>
                        </div>
                    </div>
                </div>`;
        }
    }
    s += '</div>';

    // Insert the generated HTML into the container
    document.getElementById("t1").innerHTML = s;
}

// Function to filter properties based on the search term
function filterProperties() {
    const searchTerm = document.getElementById("propertySearch").value.toLowerCase();
    const filtered = properties.filter(property => 
        property.property_name.toLowerCase().includes(searchTerm)
    );
    render(filtered);
}

// Add event listener for the search input
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("propertySearch").addEventListener("input", filterProperties);
});


        </script>

    </head>

    <body onload="property()" >
<div th:insert="usernavbar"></div>

            <main>

                <section class="hero_in restaurants">
                    <div class="wrapper">
                        <div class="container">
                            <h1 class="fadeInUp"><span></span>Property</h1>
                        </div>
                    </div>
                </section>
                <!--/hero_in-->

<!--                <div class="filters_listing sticky_horizontal">
                    <div class="container">
                        <ul class="clearfix">
                            <li>
                                <div class="switch-field">
                                    <input type="radio" id="all" name="listing_filter" value="all" checked data-filter="*" class="selected">
                                    <label for="all">All</label>
                                    <input type="radio" id="popular" name="listing_filter" value="popular" data-filter=".popular">
                                    <label for="popular">Popular</label>
                                    <input type="radio" id="latest" name="listing_filter" value="latest" data-filter=".latest">
                                    <label for="latest">Latest</label>
                                </div>
                            </li>
                            <li>
                                <div class="layout_view">
                                    <a href="#0" class="active"><i class="icon-th"></i></a>
                                    <a href="restaurants-list-isotope.html"><i class="icon-th-list"></i></a>
                                </div>
                            </li>
                        </ul>
                    </div>
                     /container 
                </div>
                 /filters -->

                <div class="collapse" id="collapseMap">
                    <div id="map" class="map"></div>
                </div>
                <!-- End Map -->

                <div class="container margin_60_35">
                    <div class="col-lg-12">
                        <div class="row g-0 custom-search-input-2 inner">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <input id="propertySearch" class="form-control" type="text" placeholder="What are you looking for...">
                                    <i class="icon_search"></i>
                                </div>
                            </div>
                           
<!--                          
                            <div class="col-lg-6">
                                <input type="submit" class="btn_search" value="Search">
                            </div>
                        </div>
                        <!-- /row -->
                    </div>
                  
                    <div class="isotope-wrapper">
                        <div class="row">
                             <div id='t1'></div>
                        </div>
                        
                    </div>
                   

                   

                </div>
                

                <div class="bg_color_1" style="margin-top: 40%">
                    <div class="container margin_60_35">
                        <div class="row">
                            <div class="col-md-4">
                                <a href="#0" class="boxed_list">
                                    <i class="pe-7s-help2"></i>
                                    <h4>Need Help? Contact us</h4>
                                    <p>bonvoyage@gmail.com</p>
                                    <p>+91 6284807772</p>
                                </a>
                            </div>
                            <div class="col-md-4">
                                <a href="#0" class="boxed_list">
                                    <i class="pe-7s-wallet"></i>
                                    <h4>Payments</h4>
                                    <p>Cash Payment <br>Online payment</p>
                                </a>
                            </div>
                            <div class="col-md-4">
                                <a href="#0" class="boxed_list">
                                    <i class="pe-7s-note2"></i>
                                    <h4>Cancel Policy</h4>
                                    <p>If you need to modify or cancel your booking, kindly notify us at least 48 hours in advance.</p>
                                </a>
                            </div>
                        </div>
                        
                    </div>
                   
                </div>
                

            </main>
            

            
            
      <footer>
		<div class="container margin_60_35">
			<div class="row">
				<div class="col-lg-5 col-md-12 pe-5">
					<p><img src="img/logo-without-background.png" width="150" height="36" alt=""></p>
					<p> Bon Voyage is your ideal getaway, designed for travelers who crave unique experiences with all the comforts of home. Nestled in [location], this stylish haven offers a perfect blend of modern amenities and cozy ambiance, ensuring a stay that's as relaxing as it is inspiring.</p>
					<div class="follow_us">
						<ul>
							<li>Follow us</li>
							<li><a href="#0"><i class="ti-facebook"></i></a></li>
							<li><a href="#0"><i class="ti-twitter-alt"></i></a></li>
							<li><a href="#0"><i class="ti-google"></i></a></li>
							<li><a href="#0"><i class="ti-pinterest"></i></a></li>
							<li><a href="#0"><i class="ti-instagram"></i></a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-3 col-md-6 ms-lg-auto">
					<h5>Useful links</h5>
					<ul class="links">
						<li><a href="about.html">About</a></li>
						<li><a href="login.html">Login</a></li>
						<li><a href="register.html">Register</a></li>
						<li><a href="blog.html">News &amp; Events</a></li>
						<li><a href="contacts.html">Contacts</a></li>
					</ul>
				</div>
				<div class="col-lg-3 col-md-6">
					<h5>Contact with Us</h5>
					<ul class="contacts">
						<li><a href="#"><i class="ti-mobile"></i> + 61 23 8093 3400</a></li>
						<li><a href="#"><i class="ti-email"></i> bonvoyage@gmail.com</a></li>
					</ul>
					<div id="newsletter">
					<h6>Newsletter</h6>
					<div id="message-newsletter"></div>
					<form method="post" action="http://www.ansonika.com/panagea/phpmailer/newsletter_template_email.php" name="newsletter_form" id="newsletter_form">
						<div class="form-group">
							<input type="email" name="email_newsletter" id="email_newsletter" class="form-control" placeholder="Your email">
							<input type="submit" value="Submit" id="submit-newsletter">
						</div>
					</form>
					</div>
				</div>
			</div>
			<!--/row-->
			<hr>
			<div class="row">
				<div class="col-lg-6">
					<ul id="footer-selector">
						<li>
							<div class="styled-select" id="lang-selector">
								<select>
									<option value="English" selected>English</option>
									<option value="French">French</option>
									<option value="Spanish">Spanish</option>
									<option value="Russian">Russian</option>
								</select>
							</div>
						</li>
						<li>
							<div class="styled-select" id="currency-selector">
								<select>
									<option value="US Dollars" selected>US Dollars</option>
									<option value="Euro">Euro</option>
								</select>
							</div>
						</li>
						<li><img src="img/cards_all.svg" alt=""></li>
					</ul>
				</div>
				<div class="col-lg-6">
					<ul id="additional_links">
						<li><a href="#0">Terms and conditions</a></li>
						<li><a href="#0">Privacy</a></li>
						<li><span>© Panagea</span></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

 <script src="js/common_scripts.js"></script>
    <script src="js/main.js"></script>
	<script src="phpmailer/validate.js"></script>
        
        <!-- INPUT QUANTITY  -->
	<script src="js/input_qty.js"></script>

	<!-- COLOR SWITCHER  -->
    <script src="js/switcher.js"></script>

        

        <!-- Sign In Popup -->
        <div id="sign-in-dialog" class="zoom-anim-dialog mfp-hide">
            <div class="small-dialog-header">
                <h3>Sign In</h3>
            </div>
            <form>
                <div class="sign-in-wrapper">
                    <a href="#0" class="social_bt facebook">Login with Facebook</a>
                    <a href="#0" class="social_bt google">Login with Google</a>
                    <div class="divider"><span>Or</span></div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" id="email">
                        <i class="icon_mail_alt"></i>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" class="form-control" name="password" id="password" value="">
                        <i class="icon_lock_alt"></i>
                    </div>
                    <div class="clearfix add_bottom_15">
                        <div class="checkboxes float-start">
                            <label class="container_check">Remember me
                                <input type="checkbox">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="float-end mt-1"><a id="forgot" href="javascript:void(0);">Forgot Password?</a></div>
                    </div>
                    <div class="text-center"><input type="submit" value="Log In" class="btn_1 full-width"></div>
                    <div class="text-center">
                        Don’t have an account? <a href="register.html">Sign up</a>
                    </div>
                    <div id="forgot_pw">
                        <div class="form-group">
                            <label>Please confirm login email below</label>
                            <input type="email" class="form-control" name="email_forgot" id="email_forgot">
                            <i class="icon_mail_alt"></i>
                        </div>
                        <p>You will receive an email containing a link allowing you to reset your password to a new preferred one.</p>
                        <div class="text-center"><input type="submit" value="Reset Password" class="btn_1"></div>
                    </div>
                </div>
            </form>
            <!--form -->
        </div>
        <!-- /Sign In Popup -->

        <div id="toTop"></div><!-- Back to top button -->

        <!-- COMMON SCRIPTS -->
        <script src="js/common_scripts.js"></script>
        <script src="js/main.js"></script>
        <script src="phpmailer/validate.js"></script>

        <!-- Map -->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6Vck_vRXDPR8ILH8ZLOeGSEz_n4YR0mU&amp;callback=Function.prototype"></script>
        <script src="js/markerclusterer.js"></script>
        <script src="js/map_restaurants.js"></script>
        <script src="js/infobox.js"></script>

        <!-- Masonry Filtering -->
        <script src="js/isotope.min.js"></script>
        <script>
        $(window).on('load', function () {
            var $container = $('.isotope-wrapper');
            $container.isotope({itemSelector: '.isotope-item', layoutMode: 'masonry'});
        });

        $('.filters_listing').on('click', 'input', 'change', function () {
            var selector = $(this).attr('data-filter');
            $('.isotope-wrapper').isotope({filter: selector});
        });
        </script>

        <!-- COLOR SWITCHER  -->
        <script src="js/switcher.js"></script>
        <div id="style-switcher">
            <h6>Color Switcher <a href="#"><i class="ti-settings"></i></a></h6>
            <div>
                <ul class="colors" id="color1">
                    <li>
                        <a href="#" class="default" title="Default"></a>
                    </li>
                    <li>
                        <a href="#" class="aqua" title="Aqua"></a>
                    </li>
                    <li>
                        <a href="#" class="green_switcher" title="Green"></a>
                    </li>
                    <li>
                        <a href="#" class="orange" title="Orange"></a>
                    </li>
                    <li>
                        <a href="#" class="blue" title="Blue"></a>
                    </li>
                    <li>
                        <a href="#" class="beige" title="Beige"></a>
                    </li>
                    <li>
                        <a href="#" class="gray" title="Gray"></a>
                    </li>
                    <li>
                        <a href="#" class="green-2" title="Green"></a>
                    </li>
                    <li>
                        <a href="#" class="navy" title="Navy"></a>
                    </li>
                    <li>
                        <a href="#" class="peach" title="Peach"></a>
                    </li>
                    <li>
                        <a href="#" class="purple" title="Purple"></a>
                    </li>
                    <li>
                        <a href="#" class="red" title="Red"></a>
                    </li>
                    <li>
                        <a href="#" class="violet" title="Violet"></a>
                    </li>
                </ul>
            </div>
        </div>

    </body>

    
</html>