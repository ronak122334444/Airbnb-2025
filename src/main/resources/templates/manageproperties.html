<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Panagea - Premium site template for travel agencies, hotels and restaurant listing.">
    <title>flora</title>

    <!-- Favicons-->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="img/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="img/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="img/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="img/apple-touch-icon-144x144-precomposed.png">

    <!-- GOOGLE WEB FONT -->
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">

    <!-- BASE CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
	<link href="css/vendors.css" rel="stylesheet">

    <!-- ALTERNATIVE COLORS CSS -->
    <link href="#" id="colors" rel="stylesheet">
     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        function add(){
            var nm = document.getElementById("pname").value;
            var des = document.getElementById("pdes").value;
            var photo=document.getElementById("pphoto").files[0];
             if (nm === "" || des === "") {
                    Swal.fire({
                        icon: 'error',
                        title: 'Something missing',
                        text: 'All fields are mandatory',
                        confirmButtonColor: '#d33', 
                        background: '#ffeded', 
                    });
                    return; 
                }
                var url = "/manageproperties";
                    var formdata = new FormData();
                    formdata.append("pname", nm);
                    formdata.append("pdes", des);
                    formdata.append("pphoto", photo);
//            var url = "/manageproperties?pname=" + nm + "&pdes=" + des;
            

            fetch(url, {method: "Post",body:formdata})
                    .then(response => response.text())
                    .then(ans => renderAsHtml(ans));
        }
        


 function renderAsHtml(ans)
        {
            if (ans === "success")
            {
                alreadyAddedProperties()
                Swal.fire({
                        icon: 'success',
                        title: 'Property Type added',
                        text: 'You have successfully added a Property Type!',
                        showConfirmButton: true,
                        confirmButtonColor: '#3085d6', // Custom button color
                        background: '#f4f6f9' // Light background for aesthetics
                    }).then((result) => {
                        // Check if the confirm button was clicked
                        if (result.isConfirmed) {
                            window.location.href = "/adminhome";
                        }
                    });

                } else{
                    
                   Swal.fire({
                        icon: "error",
                        title: "Property can't be added",
                        showConfirmButton: false,
                        timer: 3000
                    });
                    setTimeout(3000);
                     }
                    }
function alreadyAddedProperties() {
                var url = "/alreadyAddedProperties";
                fetch(url, {method: "Get"})
                        .then(response => response.text())
                        .then(ans => showAlreadyAddedProperties(ans));
            }

            function showAlreadyAddedProperties(ans) {
//                console.log(ans);
                var obj = JSON.parse(ans);
                var arr = obj.ans;
                console.log(arr)
                var s = "";
                s = s + "<div class='container'>";
                s = s + "<h1 class='text-dark' style='text-align:center'>Already Added Properties</h1>";
                s = s + "<table class='table table-info table-bordered table-hover'>";
                s = s + "<tr>";
                s = s + "<th style='text-align:center'>Property Type</th>";
                s = s + "<th style='text-align:center'> Property Description</th>";
                                    s=s+"<th style='text-align:center'>Photo</th>";
                                    s=s+"<th style='text-align:center' colspan='2'>Remove</th>";
                for (var i = 0; i < arr.length; i++)
                {
                    s = s + "<tr>";
                    s = s + "<td style='text-align:center;vertical-align:middle;' class='pt-5'>" + arr[i].pname + "</td>";
                    s = s + "<td style='text-align:center; vertical-align:middle;' class='pt-5'>" + arr[i].pdes + "</td>";
                    s = s + "<td style='text-align:center'class='pt-5'><img src=" + arr[i].pphoto + " style='height:300px;width:300px;'><td>";
                    s = s + "<td style='text-align:center' class='pt-5'><input type='button' value='Delete' class='btn btn-danger' onclick=\"del('" + arr[i].pname+ "')\"></td>";
                    s = s + "</tr>";
                }
                s = s + "</table>";
                s = s + "</div>";
                document.getElementById("t1").innerHTML = s;
            }
            function del(pname) {
                var url = "/deletedproperty?pname=" + pname;
                fetch(url, {method: "Get"})
                        .then(response => response.text())
                        .then(ans => deleteProperties(ans));
            }
            function deleteProperties(ans)
            {
                if (ans == "delete") {

Swal.fire({
                    title: "Are you sure?",
                    text: "You won't be able to revert this!",
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#3085d6",
                    cancelButtonColor: "#d33",
                    confirmButtonText: "Yes, delete it!"
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire({
                            title: "Deleted!",
                            text: "property is deleted.",
                            icon: "success"
                        });
                    }
                });
            }
                   
                }

                  setTimeout(3000);
                alreadyAddedProperties();
            

        </script>

    </head>
    
<body onload="alreadyAddedProperties()">

	<div id="page">
		
	<header class="header menu_fixed">
		<div id="preloader"><div data-loader="circle-side"></div></div><!-- /Page Preload -->
		<div id="logo">
			<a href="index-2.html">
				<img src="img/logo.svg" width="150" height="36" alt="" class="logo_normal">
				<img src="img/logo_sticky.svg" width="150" height="36" alt="" class="logo_sticky">
			</a>
		</div>
		<ul id="top_menu">
			<li><a href="cart-1.html" class="cart-menu-btn" title="Cart"><strong>4</strong></a></li>
			<li><a href="#sign-in-dialog" id="sign-in" class="login" title="Sign In">Sign In</a></li>
			<li><a href="wishlist.html" class="wishlist_bt_top" title="Your wishlist">Your wishlist</a></li>
		</ul>
		<!-- /top_menu -->
		<a href="#menu" class="btn_mobile">
			<div class="hamburger hamburger--spin" id="hamburger">
				<div class="hamburger-box">
					<div class="hamburger-inner"></div>
				</div>
			</div>
		</a>
		<nav id="menu" class="main-menu">
			<ul>
				<li><span><a href="#0">Home</a></span>
					<ul>
						<li><a href="index-2.html">Home Default</a></li>
						<li>
							<span><a href="#0">Sliders - Parallax</a></span>
							<ul>
								<li><a href="index-11.html">Revolution Slider 1</a></li>
								<li><a href="index-18.html">Revolution Slider 2</a></li>
								<li><a href="index-3.html">Flex Slider</a></li>
								<li><a href="index-4.html">Layer Slider</a></li>
								<li><a href="index-12.html">Parallax Youtube</a></li>
								<li><a href="index-13.html">Parallax Vimeo</a></li>
								<li><a href="index-14.html">Parallax Mp4 Video</a></li>
								<li><a href="index-15.html">Parallax Video Fullscreen</a></li>
								<li><a href="index-16.html">Parallax Image</a></li>
							</ul>
						</li>
						<li><a href="index-19.html">KenBurns Slider <strong class="badge badge-danger">New!</strong></a></li>
						<li><a href="index-17.html">Text Rotator</a></li>
						<li><a href="index-5.html">Video Fallback Mobile</a></li>
						<li><a href="index-6.html">Search 2</a></li>
						<li><a href="index-10.html">Search 3 <strong class="badge badge-danger">New!</strong></a></li>
						<li><a href="index-7.html">Search 4</a></li>
						<li><a href="index-8.html">GDPR (EU law)</a></li>
                        <li><a href="index-9.html">Address Autocomplete</a></li>
                        <li><a href="index-20.html">Home AirBnb</a></li>
					</ul>
				</li>
				<li><span><a href="#0">Tours</a></span>
					<ul>
						<li>
							<span><a href="#0">Tours Grid</a></span>
							<ul>
								<li><a href="tours-grid-isotope.html">Tours Grid Isotope</a></li>
								<li><a href="tours-grid-sidebar.html">Tours Grid Sidebar</a></li>
								<li><a href="tours-grid-sidebar-2.html">Tours Grid Sidebar 2</a></li>
								<li><a href="tours-grid.html">Tours Grid Simple</a></li>
							</ul>
						</li>
						<li>
							<span><a href="#0">Tours List</a></span>
							<ul>
								<li><a href="tours-list-isotope.html">Tours List Isotope</a></li>
								<li><a href="tours-list-sidebar.html">Tours List Sidebar</a></li>
								<li><a href="tours-list-sidebar-2.html">Tours List Sidebar 2</a></li>
								<li><a href="tours-list.html">Tours List Simple</a></li>
							</ul>
						</li>
						<li><a href="tours-half-screen-map.html">Tours Half Screen Map</a></li>
						<li><a href="tour-detail.html">Tour Detail</a></li>
						<li><a href="detail-working-contact-form.html">Detail Contact Form <strong class="badge badge-danger">New!</strong></a></li>
						<li>
							<span><a href="#0">Open Street Map</a></span>
							<ul>
								<li><a href="tours-half-screen-map-leaflet.html">Tours Half Screen Map</a></li>
								<li><a href="tours-list-isotope-leaflet.html">Tours Grid Isotope</a></li>
								<li><a href="tours-list-sidebar-leaflet.html">Tours Grid Sidebar</a></li>
								<li><a href="tours-list-sidebar-2-leaflet.html">Tours Grid Sidebar 2</a></li>
								<li><a href="tours-list-leaflet.html">Tours Grid Simple</a></li>
								<li><a href="tours-list-isotope-leaflet.html">Tours List Isotope</a></li>
								<li><a href="tours-list-sidebar-leaflet.html">Tours List Sidebar</a></li>
								<li><a href="tours-list-sidebar-2-leaflet.html">Tours List Sidebar 2</a></li>
								<li><a href="tours-list-leaflet.html">Tours List Simple</a></li>
								<li><a href="tour-detail-leaflet.html">Tour Detail</a></li>
							</ul>
						</li>
					</ul>
				</li>
				<li><span><a href="#0">Hotels</a></span>
					<ul>
						<li>
							<span><a href="#0">Hotel Grid</a></span>
							<ul>
								<li><a href="hotels-grid-isotope.html">Hotel Grid Isotope</a></li>
								<li><a href="hotels-grid-sidebar.html">Hotel Grid Sidebar</a></li>
								<li><a href="hotels-grid-sidebar-2.html">Hotel Grid Sidebar 2</a></li>
								<li><a href="hotels-grid.html">Hotel Grid Simple</a></li>
							</ul>
						</li>
						<li>
							<span><a href="#0">Hotel List</a></span>
							<ul>
								<li><a href="hotels-list-isotope.html">Hotel List Isotope</a></li>
								<li><a href="hotels-list-sidebar.html">Hotel List Sidebar</a></li>
								<li><a href="hotels-list-sidebar-2.html">Hotel List Sidebar 2</a></li>
								<li><a href="hotels-list.html">Hotel List Simple</a></li>
							</ul>
						</li>
						<li><a href="hotels-half-screen-map.html">Hotel Half Screen Map</a></li>
						<li><a href="hotel-detail.html">Hotel Detail</a></li>
					</ul>
				</li>
				<li><span><a href="#0">Eat &amp; Drink</a></span>
					<ul>
						<li>
							<span><a href="#0">Restaurant Grid</a></span>
							<ul>
								<li><a href="restaurants-grid-isotope.html">Restaurant Grid Isotope</a></li>
								<li><a href="restaurants-grid-sidebar.html">Restaurant Grid Sidebar</a></li>
								<li><a href="restaurants-grid-sidebar-2.html">Restaurant Grid Sidebar 2</a></li>
								<li><a href="restaurants-grid.html">Restaurant Grid simple</a></li>
							</ul>
						</li>
						<li>
							<span><a href="#0">Restaurant List</a></span>
							<ul>
								<li><a href="restaurants-list-isotope.html">Restaurant List Isotope</a></li>
								<li><a href="restaurants-list-sidebar.html">Restaurant List Sidebar</a></li>
								<li><a href="restaurants-list-sidebar-2.html">Restaurant List Sidebar 2</a></li>
								<li><a href="restaurants-list.html">Restaurant List Simple</a></li>
							</ul>
						</li>
						<li><a href="restaurants-half-screen-map.html">Half Screen Map</a></li>
						<li><a href="restaurant-detail.html">Restaurant Detail</a></li>
						<li><a href="restaurant-detail-2.html">Restaurant Time Picker</a></li>
					</ul>
				</li>
				<li><span><a href="adventure.html">Adventure</a></span></li>
				<li><span><a href="#0">Pages</a></span>
					<ul>
						<li><a href="admin_section/index.html" target="_blank">Admin Section</a></li>
						<li><a href="about.html">About</a></li>
						<li><a href="media-gallery.html">Media gallery</a></li>
						<li><a href="help.html">Help Section</a></li>
						<li><a href="faq.html">Faq Section</a></li>
						<li><a href="wishlist.html">Wishlist page</a></li>
						<li><a href="contacts.html">Contacts</a></li>
						<li><a href="login.html">Login</a></li>
						<li><a href="register.html">Register</a></li>
						<li><a href="blog.html">Blog</a></li>
						<li><a href="bootstrap-modal.html">Bootstrap Modal <strong class="badge badge-danger">New!</strong></a></li>
						<li><a href="modal-version-2.html">Another Modal <strong class="badge badge-danger">New!</strong></a></li>
						<li><a href="pricing-tables-2.html">Pricing Tables 1 <strong class="badge badge-danger">New!</strong></a></li>
						<li><a href="pricing-tables-3.html">Pricing Tables 2 <strong class="badge badge-danger">New!</strong></a></li>
					</ul>
				</li>
				<li><span><a href="#0">Extra</a></span>
					<ul>
						<li><a href="html_rtl/index.html">RTL Version <strong class="badge badge-danger">New!</strong></a></li>
                    	<li><a href="menu-options.html">Menu Position Options</a></li>
                    	<li><a href="tour-detail-singlemonth-datepicker.html">Single month Datepicker</a></li>
						<li><a href="404.html">404 Error page</a></li>
						<li><a href="cart-1.html">Cart page 1</a></li>
						<li><a href="cart-2.html">Cart page 2</a></li>
						<li><a href="cart-3.html">Cart page 3</a></li>
						<li><a href="pricing-tables.html">Responsive pricing tables</a></li>
						<li><a href="coming_soon/index.html">Coming soon</a></li>
						<li><a href="invoice.html">Invoice</a></li>
						<li><a href="icon-pack-1.html">Icon pack 1</a></li>
						<li><a href="icon-pack-2.html">Icon pack 2</a></li>
						<li><a href="icon-pack-3.html">Icon pack 3</a></li>
						<li><a href="icon-pack-4.html">Icon pack 4</a></li>
                        <li><a href="hamburgers.html">Animated Hamburgers</a></li>
					</ul>
				</li>
				<li><span><a href="https://1.envato.market/DmbYj" target="_parent">Buy template</a></span></li>
			</ul>
		</nav>
	</header>
	<!-- /header -->
	
	<main>
		<section class="hero_single version_3">
			<div class="wrapper">
				<div class="container">
					<div class="main_search">
                                            <h2>Add New <i>Property </i>Type</h2>
						<!--<p></p>-->
						<form>
						<div class="custom-search-input-2">
							<div class="form-group">
									<input class="form-control" type="text" placeholder="Enter Property Type" id="pname">
									
								</div>
								<div class="form-group">
									<input class="form-control" type="text"  placeholder="Property Type Description" id="pdes">
									
								</div>
                                                    <div class="form-group">
									<input class="form-control" type="file" accept="image/*"  placeholder="photo" id="pphoto">
									
								</div>
							

								<!--</div>-->
							<div class="form-group text-end">
								<input type="button" class="btn_1 rounded full-width" value="Add Property Type" onclick="add()">
							</div>
						</div>
						<!-- /row -->
					</form>
					</div>
					<!-- /main_search -->	
				</div>
			</div>
		</section>
		<!-- /hero_single -->
                
                <div id="t1" >
                    
                </div>

	</main>
	<!-- /main -->

	<div th:insert="footer" >
            </div>

	
	</div>
	<!-- page -->
	
	<!-- Sign In Popup -->
	<div id="sign-in-dialog" class="zoom-anim-dialog mfp-hide">
		<div class="small-dialog-header">
			<h3>Sign In</h3>
		</div>
		<form>
			<div class="sign-in-wrapper">
				<a href="#0" class="social_bt facebook">Login with Facebook</a>
				<a href="#0" class="social_bt google">Login with Google</a>
				<div class="divider"><span>Or</span></div>
				<div class="form-group">
					<label>Email</label>
					<input type="email" class="form-control" name="email" id="email">
					<i class="icon_mail_alt"></i>
				</div>
				<div class="form-group">
					<label>Password</label>
					<input type="password" class="form-control" name="password" id="password" value="">
					<i class="icon_lock_alt"></i>
				</div>
				<div class="clearfix add_bottom_15">
					<div class="checkboxes float-start">
						<label class="container_check">Remember me
						  <input type="checkbox">
						  <span class="checkmark"></span>
						</label>
					</div>
					<div class="float-end mt-1"><a id="forgot" href="javascript:void(0);">Forgot Password?</a></div>
				</div>
				<div class="text-center"><input type="submit" value="Log In" class="btn_1 full-width"></div>
				<div class="text-center">
					Don’t have an account? <a href="register.html">Sign up</a>
				</div>
				<div id="forgot_pw">
					<div class="form-group">
						<label>Please confirm login email below</label>
						<input type="email" class="form-control" name="email_forgot" id="email_forgot">
						<i class="icon_mail_alt"></i>
					</div>
					<p>You will receive an email containing a link allowing you to reset your password to a new preferred one.</p>
					<div class="text-center"><input type="submit" value="Reset Password" class="btn_1"></div>
				</div>
			</div>
		</form>
		<!--form -->
	</div>
	<!-- /Sign In Popup -->
	
	<div id="toTop"></div><!-- Back to top button -->
	
	<!-- COMMON SCRIPTS -->
    <script src="js/common_scripts.js"></script>
    <script src="js/main.js"></script>
	<script src="phpmailer/validate.js"></script>
	
	<!-- DATEPICKER  -->
	<script>
	$(function() {
	  'use strict';
	  $('input[name="dates"]').daterangepicker({
		  autoUpdateInput: false,
		  minDate:new Date(),
		  locale: {
			  cancelLabel: 'Clear'
		  }
	  });
	  $('input[name="dates"]').on('apply.daterangepicker', function(ev, picker) {
		  $(this).val(picker.startDate.format('MM-DD-YY') + ' > ' + picker.endDate.format('MM-DD-YY'));
	  });
	  $('input[name="dates"]').on('cancel.daterangepicker', function(ev, picker) {
		  $(this).val('');
	  });
	});
	</script>
	
	<!-- INPUT QUANTITY  -->
	<script src="js/input_qty.js"></script>

	<!-- Autocomplete -->
    <script>
    function initMap() {
	  var input = document.getElementById('autocomplete');
	  var autocomplete = new google.maps.places.Autocomplete(input);
	 
	  autocomplete.addListener('place_changed', function() {
	    var place = autocomplete.getPlace();
	    if (!place.geometry) {
	      window.alert("Autocomplete's returned place contains no geometry");
	      return;
	    }

	    var address = '';
	    if (place.address_components) {
	      address = [
	        (place.address_components[0] && place.address_components[0].short_name || ''),
	        (place.address_components[1] && place.address_components[1].short_name || ''),
	        (place.address_components[2] && place.address_components[2].short_name || '')
	      ].join(' ');
	    } 
	  });
	}
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6Vck_vRXDPR8ILH8ZLOeGSEz_n4YR0mU&amp;libraries=places&amp;callback=initMap"></script>

	<!-- COLOR SWITCHER  -->
<!--    <script src="js/switcher.js"></script>
    <div id="style-switcher">
        <h6>Color Switcher <a href="#"><i class="ti-settings"></i></a></h6>
        <div>
            <ul class="colors" id="color1">
                <li>
                    <a href="#" class="default" title="Default"></a>
                </li>
                <li>
                    <a href="#" class="aqua" title="Aqua"></a>
                </li>
                <li>
                    <a href="#" class="green_switcher" title="Green"></a>
                </li>
                <li>
                    <a href="#" class="orange" title="Orange"></a>
                </li>
                <li>
                    <a href="#" class="blue" title="Blue"></a>
                </li>
                <li>
                    <a href="#" class="beige" title="Beige"></a>
                </li>
                <li>
                    <a href="#" class="gray" title="Gray"></a>
                </li>
                <li>
                    <a href="#" class="green-2" title="Green"></a>
                </li>
                <li>
                    <a href="#" class="navy" title="Navy"></a>
                </li>
                <li>
                    <a href="#" class="peach" title="Peach"></a>
                </li>
                <li>
                    <a href="#" class="purple" title="Purple"></a>
                </li>
                <li>
                    <a href="#" class="red" title="Red"></a>
                </li>
                <li>
                    <a href="#" class="violet" title="Violet"></a>
                </li>
            </ul>
        </div>
    </div>-->
	
</body>


</html>

